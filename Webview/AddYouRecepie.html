<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Add your recepie</title>
    <link type="text/css" rel="stylesheet" href="AddYouRecepie.css">
  </head>
  <body>
    Recepie Title:<input type="text" class="recepieTitle" name="recepieTitle" id ="recepieTitle"><br>
    <div id="EditsArea">
    Ingredient:<input type="text" class="ingEdit" name="Ingredient" id = "ingEdit">
    <input type="submit" class="add" value="Add+" onclick="AddIngredient()">
    </div>
    Recepie Categorie:<input type="text" class="categorie" name="categorie" id ="categorie"><br>
    Recepie Description:<input type="text" class="description" name="description" id ="description"><br>
    <input type="submit" class="submit" value="Commit Recepie" onclick="CommitRecepie()">
    <script type="text/javascript">
      function AddIngredient() {
        var label = document.createElement('label');
        var t = document.createTextNode("Ingredient:");
        label.setAttribute("for", "Ingredient:");
        label.appendChild(t);
        var input = document.createElement('input');
        input.type = "text";
        input.setAttribute("name", "Ingredient")
        var br = document.createElement("br");
        var container = document.getElementById("EditsArea");
        container.appendChild(br);
        container.appendChild(label);
        container.appendChild(input);
      }

      function CommitRecepie() {
        var form = $(document.myform);
        var elements = document.getElementsByTagName('input');
        var recepieTitle;
        var ingredients = "";
        var description;
        var categorie;
        console.log(elements.length);
        for (var i=0; i<elements.length; i++){
          var name = elements[i].getAttribute("name");
          if (name == "recepieTitle"){
            recepieTitle = elements[i].value;
          } else if (name == "Ingredient") {
            ingredients += elements[i].value + ",";
          } else if (name == "categorie") {
            categorie = elements[i].value;
          } else if (name == "description") {
            description = elements[i].value;
          }
        }
        var data = JSON.stringify({"_title":recepieTitle,
         "_ingredients":ingredients, "_description":description, "_categorie":categorie});
        console.log(data);
        var url = "url";
        xhr = new XMLHttpRequest();
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-type", "application/json");
        xhr.send(data);
      }
    </script>
  </body>
</html>
